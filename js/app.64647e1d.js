(function(e){function t(t){for(var r,a,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var i=n[a];0!==o[i]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o={app:0},s=[];function i(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-0cfa9a9f":"078df4b6","chunk-02dacbc7":"2affe3b8","chunk-e455dda6":"1025c019","chunk-525ae6e9":"fbdec4a7","chunk-1d54f4d3":"add36fd5","chunk-2f2e3483":"ee8f2bfb","chunk-fbaad4a8":"395e6fc0"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-02dacbc7":1,"chunk-e455dda6":1,"chunk-525ae6e9":1,"chunk-1d54f4d3":1,"chunk-2f2e3483":1,"chunk-fbaad4a8":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0cfa9a9f":"31d6cfe0","chunk-02dacbc7":"b4ba278d","chunk-e455dda6":"a160d9fb","chunk-525ae6e9":"a164223e","chunk-1d54f4d3":"b7c7b115","chunk-2f2e3483":"14152bf2","chunk-fbaad4a8":"f56bbeee"}[e]+".css",o=c.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var u=s[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete a[e],p.parentNode.removeChild(p),n(s)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}o[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){n("97c8"),e.exports=n("56d7")},"011d":function(e,t,n){},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"0bba":function(e,t,n){"use strict";var r=n("54cb"),a=n.n(r);a.a},1:function(e,t){},"1e2b":function(e,t,n){"use strict";var r=n("75fc"),a=(n("6b54"),n("7f7f"),n("96cf"),n("3b8d")),o=n("d225"),s=n("b0b4"),i=n("bd86"),c=(n("a481"),n("f559"),n("6314")),u=n.n(c),l=n("5723"),d=n("e768"),p=n("399f"),f=n.n(p),h=n("d633");function m(e,t){e.startsWith("0x")&&(e=u.a.utils.hexToString(e)),e&&e.message&&(e=e.message),e&&(e.indexOf("User denied")>=0&&(e="A0"),e=e.replace(/[^\x20-\x7E]/g,"").trim());var n=t.$t("err."+e);return n&&""!=n||(console.warn("Web run unknown error",e),n=t.$t("err.Unknown",[e])),n}function g(e){return new Promise((function(t){return setTimeout(t,e)}))}var b=function(){function e(){Object(o["a"])(this,e),Object(i["a"])(this,"instance",null),Object(i["a"])(this,"nbt",null),Object(i["a"])(this,"pendingTx",null),Object(i["a"])(this,"pendingOldSnapshot",null),Object(i["a"])(this,"pendingMethod",null),Object(i["a"])(this,"pendingMode",null),Object(i["a"])(this,"pendingUserID","0"),Object(i["a"])(this,"contract",null),Object(i["a"])(this,"currentAddr",null),Object(i["a"])(this,"config",null),Object(i["a"])(this,"isMdsApp",/MdsApp/.test(navigator.userAgent)),Object(i["a"])(this,"isImToken",window.ethereum&&window.ethereum.isImToken),Object(i["a"])(this,"isTrust",window.ethereum&&window.ethereum.isTrust),Object(i["a"])(this,"isMobile","undefined"!==typeof window.orientation||-1!==navigator.userAgent.indexOf("IEMobile"))}return Object(s["a"])(e,[{key:"checkAccounts",value:function(){var e=this;this.instance.eth.getAccounts((function(t,n){t&&console.warn("getAccounts",t),e.currentAddr&&e.currentAddr!=n[0]&&(e.saveOrClearPending(!0),onchange&&onchange()),setTimeout((function(){e.checkAccounts()}),3e3)}))}},{key:"init",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=localStorage.getItem("pendingTx"),r&&(a=JSON.parse(r),this.pendingMethod=a.method,this.pendingMode=a.mode,this.pendingOldSnapshot=a.old,this.pendingTx=a.tx,this.pendingUserID=a.userID),e.abrupt("return",new Promise((function(e,r){"undefined"===typeof window.ethereum&&"undefined"===typeof window.web3||(o.instance=new u.a(window.ethereum||window.web3.currentProvider)),o.config=t,o.instance&&(o.nbt=new o.instance.eth.Contract(JSON.parse(t.erc20abi),t.token_address),o.adc=new o.instance.eth.Contract(JSON.parse(t.adc_abi),t.award_address),o.contract=new o.instance.eth.Contract(JSON.parse(t.abi),t.contract_address)),window.ethereum?window.ethereum.enable().then((function(t){o.currentAddr=t[0],window.ethereum.on?window.ethereum.on("accountsChanged",(function(e){e[0]!=o.currentAddr&&(o.saveOrClearPending(!0),n&&n())})):o.checkAccounts(),console.warn("System inited:",o.currentAddr),e()})).catch(r):window.web3?o.instance.eth.getAccounts((function(t,n){t&&r(t),o.currentAddr=n[0],o.checkAccounts(),console.warn("System inited:",o.currentAddr),e()})):r(new Error("Ethereum instance not found"))})));case 3:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"dollar2cent",value:function(e){return 1e5*e}},{key:"cent2dollar",value:function(e){return e/1e5}},{key:"wei2ether",value:function(e){return u.a.utils.fromWei(e)}},{key:"toWei",value:function(e){return u.a.utils.toWei(e)}},{key:"T2U",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","0");case 2:return e.abrupt("return",new Promise((function(e,r){n.contract.methods.T2U(t).call((function(t,n){t?r(t):e(n)}))})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"T2E",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","0");case 2:return e.abrupt("return",new Promise((function(e,r){n.contract.methods.T2E(t).call((function(t,n){t?r(t):e(n)}))})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"E2U",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","0");case 2:return e.abrupt("return",new Promise((function(e,r){n.contract.methods.E2U(t).call((function(t,n){t?r(t):e(n)}))})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"balanceOf",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","0");case 2:return e.abrupt("return",new Promise((function(e,r){n.nbt.methods.balanceOf(t).call((function(t,n){t?r(t):e(n)}))})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"U2T",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","0");case 2:return e.abrupt("return",new Promise((function(e,r){n.contract.methods.U2T(t).call((function(t,n){t?r(t):e(n)}))})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"E2T",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return","0");case 2:return e.abrupt("return",new Promise((function(e,r){n.contract.methods.E2T(t).call((function(t,n){t?r(t):e(n)}))})));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getUserStatus",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.contract.methods.getUserStatus(t).call((function(t,n){t?r(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNodeIncomeBalance",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){n.contract.methods.getNodeIncomeBalance(t).call((function(t,n){t?r(t):e(n)}))})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"bonusFund",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.contract.methods.bonusFund().call((function(t,r){t?n(t):e(r)}))})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getIDByAddr",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.contract.methods.getIDByAddr(t.currentAddr).call((function(t,r){t?n(t):e(r)}))})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSign",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var a,o,s=JSON.stringify({user:n.currentAddr,token:n.nbt.address});if(n.isImToken||n.isMdsApp||n.isTrust){var i=[n.currentAddr,t.message.nonce+s];(n.isMdsApp||n.isTrust)&&(i=[n.instance.utils.toHex(t.message.nonce+s),n.currentAddr]),a={method:"personal_sign",params:i,from:n.currentAddr},o=2}else{var c={types:t.types,domain:{name:t.domain.name,version:t.domain.version,chainId:t.domain.chainId},primaryType:t.primaryType,message:{nonce:t.message.nonce,data:s}};a={method:"eth_signTypedData_v3",params:[n.currentAddr,JSON.stringify(c)],from:n.currentAddr},o=1}window.web3.currentProvider.sendAsync(a,(function(n,a){n?r(n):e({data:s,nonce:t.message.nonce,sign:a.result,sign_type:o})}))})));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setNbtInfo",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["i"])({token:this.nbt.address});case 2:return t=e.sent,e.next=5,this.U2T(this.dollar2cent(t.active_usd_price));case 5:return t.active_token_price=e.sent,t.show_active_token_price=this.wei2ether(t.active_token_price),e.t0=this,e.next=10,this.T2U(this.toWei(t.match_pool_token));case 10:return e.t1=e.sent,t.match_pool_usd=e.t0.cent2dollar.call(e.t0,e.t1),e.t2=this,e.next=15,this.instance.eth.getBalance(this.config.reserve_address);case 15:return e.t3=e.sent,t.reserve_addr_eth=e.t2.wei2ether.call(e.t2,e.t3),e.t4=this,e.next=20,this.E2U(this.toWei(t.reserve_addr_eth));case 20:return e.t5=e.sent,t.reserve_addr_usd=e.t4.cent2dollar.call(e.t4,e.t5),e.t6=this,e.next=25,this.instance.eth.getBalance(this.config.market_maker_address);case 25:return e.t7=e.sent,t.market_maker_addr_eth=e.t6.wei2ether.call(e.t6,e.t7),e.t8=this,e.next=30,this.E2U(this.toWei(t.market_maker_addr_eth));case 30:return e.t9=e.sent,t.market_maker_addr_eth_usd=e.t8.cent2dollar.call(e.t8,e.t9),e.t10=this,e.next=35,this.instance.eth.getBalance(this.config.market_maker_address2);case 35:return e.t11=e.sent,t.market_maker_addr_eth2=e.t10.wei2ether.call(e.t10,e.t11),e.t12=this,e.next=40,this.E2U(this.toWei(t.market_maker_addr_eth2));case 40:return e.t13=e.sent,t.market_maker_addr_eth_usd2=e.t12.cent2dollar.call(e.t12,e.t13),e.t14=this,e.next=45,this.balanceOf(this.config.market_maker_address);case 45:return e.t15=e.sent,t.market_maker_addr_token=e.t14.wei2ether.call(e.t14,e.t15),e.t16=this,e.next=50,this.T2U(this.toWei(t.market_maker_addr_token));case 50:return e.t17=e.sent,t.market_maker_addr_token_usd=e.t16.cent2dollar.call(e.t16,e.t17),e.t18=this,e.next=55,this.T2U(this.toWei(t.security_pool_token));case 55:return e.t19=e.sent,t.security_pool_usd=e.t18.cent2dollar.call(e.t18,e.t19),e.t20=this,e.next=60,this.T2U(this.toWei(t.match_pool_token));case 60:return e.t21=e.sent,t.match_pool_usd=e.t20.cent2dollar.call(e.t20,e.t21),e.t22=f.a,e.next=65,this.instance.eth.getBalance(this.config.award_address);case 65:return e.t23=e.sent,t.award_pool_eth=new e.t22(e.t23),e.t24=t.award_pool_eth,e.t25=f.a,e.t26=this,e.next=72,this.bonusFund();case 72:return e.t27=e.sent,e.next=75,e.t26.T2E.call(e.t26,e.t27);case 75:return e.t28=e.sent,e.t29=new e.t25(e.t28),t.award_pool_eth=e.t24.add.call(e.t24,e.t29),e.t30=this,e.next=81,this.E2U(t.award_pool_eth.toString());case 81:return e.t31=e.sent,t.award_pool_usd=e.t30.cent2dollar.call(e.t30,e.t31),t.award_pool_eth=this.wei2ether(t.award_pool_eth),e.t32=this,e.next=87,this.T2U(this.toWei(t.source_pool_token));case 87:return e.t33=e.sent,t.source_pool_usd=e.t32.cent2dollar.call(e.t32,e.t33),this.nbt.info=t,e.abrupt("return",t);case 91:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isSame",value:function(e){return e.toLowerCase()==this.currentAddr.toLowerCase()}},{key:"checkApprove",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.nbt.methods.allowance(t.currentAddr,t.config.contract_address).call({from:t.currentAddr},(function(n,r){!r||r<t.nbt.info.ticket_token_price?e(!1):e(!0)}))})));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getSnapshot",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t.pendingMethod,e.next="userWithdrawSuperNode"===e.t0?3:"ensureUserActive"===e.t0?14:20;break;case 3:if(e.t1=n,!(t.pendingUserID>0)){e.next=10;break}return e.next=7,t.getNodeIncomeBalance(t.pendingUserID);case 7:e.t2=e.sent,e.next=11;break;case 10:e.t2={};case 11:return e.t3=e.t2,(0,e.t1)(e.t3),e.abrupt("return");case 14:return e.t4=n,e.next=17,t.getIDByAddr(t.currentAddr);case 17:return e.t5=e.sent,(0,e.t4)(e.t5),e.abrupt("return");case 20:if(e.t6=n,!(t.pendingUserID>0)){e.next=27;break}return e.next=24,t.getUserStatus(t.pendingUserID);case 24:e.t7=e.sent,e.next=28;break;case 27:e.t7={};case 28:return e.t8=e.t7,(0,e.t6)(e.t8),e.abrupt("return");case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"saveOrClearPending",value:function(e){e?localStorage.setItem("pendingTx",JSON.stringify({method:"",mode:"",old:null,tx:"",userID:"0"})):localStorage.setItem("pendingTx",JSON.stringify({method:this.pendingMethod,mode:this.pendingMode,old:this.pendingOldSnapshot,tx:this.pendingTx,userID:this.pendingUserID}))}},{key:"checkSnapshot",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("0"==this.pendingUserID){e.next=4;break}e.t0=this.pendingUserID,e.next=7;break;case 4:return e.next=6,this.getIDByAddr();case 6:e.t0=e.sent;case 7:return this.pendingUserID=e.t0,e.next=10,this.getSnapshot();case 10:t=e.sent;case 11:if(JSON.stringify(this.pendingOldSnapshot)!=JSON.stringify(t)){e.next=27;break}if("0"==this.pendingUserID){e.next=16;break}e.t1=this.pendingUserID,e.next=19;break;case 16:return e.next=18,this.getIDByAddr();case 18:e.t1=e.sent;case 19:return this.pendingUserID=e.t1,e.next=22,this.getSnapshot();case 22:return t=e.sent,e.next=25,g(500);case 25:e.next=11;break;case 27:console.log("checkSnapshot",t,this.pendingOldSnapshot);case 28:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"run",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,o,s,i,c,u=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.mode,o=t.method,s=t.args,i=t.callback,c=t.vueInstance,console.warn("web3 call",n,o,s),e.abrupt("return",new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,l){var p,f,g,b,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p=!1,f={},e.next=4,u.getIDByAddr();case 4:return u.pendingUserID=e.sent,u.pendingMethod=o,u.pendingMode=n,e.next=9,u.getSnapshot();case 9:u.pendingOldSnapshot=e.sent,g={from:u.currentAddr},u.isImToken&&"transfer"==o&&(g.gas=2e6),i&&i(1),u.isMobile?(b=u[n].methods)[o].apply(b,Object(r["a"])(s)).send(g).on("transactionHash",(function(e){i&&i(2),u.pendingTx=e,u.saveOrClearPending(),Object(d["a"])({web3:u.instance,txHash:u.pendingTx,contract:u["nbt"==n?"contract":n],callback:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("trackTx",p,n,r),!p){e.next=3;break}return e.abrupt("return");case 3:if(u.saveOrClearPending(!0),u.pendingTx=null,p=!0,!r){e.next=15;break}return i&&i(3),e.next=10,u.checkSnapshot();case 10:u.pendingOldSnapshot=null,i&&i(4),t(),e.next=17;break;case 15:u.pendingOldSnapshot=null,l(m(n,c));case 17:case"end":return e.stop()}}),e)})));function n(t,n){return e.apply(this,arguments)}return n}()})})).on("error",(function(e){p||u.pendingTx||(u.saveOrClearPending(!0),e&&e.message.indexOf("Failed to subscribe")<0&&(p=!0,l(m(e,c))))})):(v=u[n].methods)[o].apply(v,Object(r["a"])(s)).send(g).once("transactionHash",(function(e){console.warn("transactionHash",e),i&&i(2),u.pendingTx=e,u.saveOrClearPending()})).on("receipt",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.warn("receipt",r),!p){e.next=3;break}return e.abrupt("return");case 3:return p=!0,u.saveOrClearPending(!0),u.pendingTx=null,i&&i(3),f=r,e.next=10,u["nbt"==n?"contract":n].getPastEvents("onError",{fromBlock:f.blockNumber,toBlock:f.blockNumber});case 10:if(a=e.sent,console.warn("reveal",a),!(a&&a.length>0)){e.next=17;break}u.pendingOldSnapshot=null,l(m(a[0].reason,c)),e.next=21;break;case 17:return e.next=19,u.checkSnapshot();case 19:u.pendingOldSnapshot=null,t();case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.warn("onError",t),!p){e.next=3;break}return e.abrupt("return");case 3:if(p=!0,u.saveOrClearPending(!0),!u.pendingTx){e.next=16;break}return e.next=8,h({hash:u.pendingTx,network:"mainnet"});case 8:return n=e.sent,r=n.errorMessage,a=n.revertReason,u.pendingTx=null,u.pendingOldSnapshot=null,console.warn("reveal",r,a),l(m(a||r,c)),e.abrupt("return");case 16:u.pendingTx=null,u.pendingOldSnapshot=null,l(m(t,c));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["a"]=new b},"1ea8":function(e,t,n){"use strict";var r=n("c27d"),a=n.n(r);a.a},2:function(e,t){},3:function(e,t){},"3b75":function(e,t,n){},4:function(e,t){},"45b4":function(e,t,n){"use strict";var r=n("3b75"),a=n.n(r);a.a},"4c76":function(e,t,n){},"54cb":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("ac6a"),n("a481"),n("6b54"),n("28a5"),n("e7e5");var r=n("d399"),a=(n("9a83"),n("f564")),o=(n("cadf"),n("551c"),n("f751"),n("097d"),n("499a"),n("fa6d"),n("c1c3"),n("2b0e")),s=n("a925"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n("router-view")],1),n("Confirm",{attrs:{title:e.$t("app.newMsg"),desc:e.desc},on:{confirm:e.onConfirm},model:{value:e.notification,callback:function(t){e.notification=t},expression:"notification"}})],1)},c=[],u=(n("8e6e"),n("456d"),n("96cf"),n("3b8d")),l=n("bd86"),d=n("2f62"),p=n("1e2b"),f=n("97e4"),h=n("a78e"),m=n.n(h),g=n("5723");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(l["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={name:"App",computed:v({},Object(d["c"])("account",["config","user"])),data:function(){return{notification:!1,id:0,desc:""}},created:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=!1,n=this.$toast.loading({duration:0,mask:!0,message:this.$t("app.loading")}),f["a"].on("SYSTEM_INITED",(function(){r.checkPendingTx()})),f["a"].on("ON_USER_LOGIN",this.fetchNotification),f["a"].on("EVENT_LOGIN_INVALID",Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return");case 2:if(p["a"].saveOrClearPending(!0),m.a.get("dmmm_token")){e.next=6;break}return n.clear(),e.abrupt("return");case 6:return e.prev=6,t=!0,e.next=10,r.login();case 10:n.clear(),f["a"].emit("ON_USER_LOGIN"),e.next=18;break;case 14:e.prev=14,e.t0=e["catch"](6),n.clear(),console.warn("user login failed",e.t0);case 18:return e.prev=18,t=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[6,14,18,21]])})))),e.prev=5,e.next=8,this.initConfig();case 8:return e.next=10,p["a"].init(this.config,this.reload);case 10:return f["a"].emit("SYSTEM_INITED"),e.next=13,this.checkUser();case 13:n.clear(),f["a"].emit("ON_USER_LOGIN"),e.next=21;break;case 17:e.prev=17,e.t0=e["catch"](5),console.info("App created",e.t0),f["a"].emit("EVENT_LOGIN_INVALID");case 21:case"end":return e.stop()}}),e,this,[[5,17]])})));function t(){return e.apply(this,arguments)}return t}(),methods:v({},Object(d["b"])("account",["initConfig","login","checkUser","checkPendingTx"]),{reload:function(){m.a.set("dmmm_token","changed",{domain:"dmmm.io",path:"/"}),window.location.reload()},fetchNotification:function(){var e=this;setInterval(Object(u["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,!e.notification){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Object(g["g"])();case 5:if(n=t.sent,!(n.length>0)){t.next=21;break}r=n[0],e.id=r.ID,t.t0=r.event_type,t.next=1===t.t0?12:2===t.t0?14:3===t.t0?16:18;break;case 12:return e.desc=e.$t("app.levelUpgrade",[r.ext_data]),t.abrupt("break",20);case 14:return e.desc=e.$t("app.becameNode"),t.abrupt("break",20);case 16:return e.desc=e.$t("app.becameSuperNode"),t.abrupt("break",20);case 18:return e.desc=JSON.stringify(r),t.abrupt("break",20);case 20:e.notification=!0;case 21:t.next=25;break;case 23:t.prev=23,t.t1=t["catch"](0);case 25:case"end":return t.stop()}}),t,null,[[0,23]])}))),1e4)},onConfirm:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["k"])(this.id);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e["catch"](0);case 7:return e.prev=7,this.desc="",this.id=0,this.notification=!1,e.finish(7);case 12:case"end":return e.stop()}}),e,this,[[0,5,7,12]])})));function t(){return e.apply(this,arguments)}return t}()})},k=w,y=(n("034f"),n("2877")),O=Object(y["a"])(k,i,c,!1,null,null,null),x=O.exports,_=n("8c4f"),j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tab-container"},[n("router-view")],1)},S=[],T={name:"TabContainer",components:{}},C=T,A=Object(y["a"])(C,j,S,!1,null,null,null),I=A.exports,P={},E=P;o["a"].use(d["a"]);var N=n("c653"),R=N.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),r=N(t);return e[n]=r.default,e}),{}),D=new d["a"].Store({modules:R,getters:E}),U=D;o["a"].use(_["a"]);var $=_["a"].prototype.push;_["a"].prototype.push=function(e){return $.call(this,e).catch((function(e){return e}))};var M=new _["a"]({base:"/",scrollBehavior:function(e,t,n){return n||{x:0,y:0}},routes:[{path:"/",name:"tabContainer",component:I,redirect:"/help",children:[{path:"/data",component:function(){return n.e("chunk-1d54f4d3").then(n.bind(null,"9352"))}},{path:"/help",component:function(){return Promise.all([n.e("chunk-0cfa9a9f"),n.e("chunk-02dacbc7"),n.e("chunk-e455dda6")]).then(n.bind(null,"c3ef"))}},{path:"/me",component:function(){return Promise.all([n.e("chunk-0cfa9a9f"),n.e("chunk-02dacbc7")]).then(n.bind(null,"0a99"))}}]},{path:"/assetdetail",name:"assetDetail",component:function(){return n.e("chunk-2f2e3483").then(n.bind(null,"655b"))}},{path:"/myinvite",name:"myinvite",component:function(){return n.e("chunk-fbaad4a8").then(n.bind(null,"9576"))}},{path:"/inviteshare",name:"inviteshare",component:function(){return Promise.all([n.e("chunk-0cfa9a9f"),n.e("chunk-525ae6e9")]).then(n.bind(null,"3d59"))}},{path:"/teamperformance",name:"teamperformance",component:function(){return n.e("chunk-0cfa9a9f").then(n.bind(null,"7ae1"))}}]});M.beforeEach(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t,n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.query&&t.query.referrer&&U.dispatch("account/setReferrer",t.query.referrer),r();case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}());var B=M,L={"en-US":{day:"days",hour:"hours",minute:"minutes",second:"seconds",cancel:"Cancel",confirm:"Confirm",pending:"pending",copy:"Copy",edit:"Edit",noMoreData:"// No more data",emptyData:"// Empty",pullToRefresh:"Pull down to refresh ...",loosingToRefresh:"Release to refresh ...",refreshing:"Loading ...",blockToTime:'<span class="color5">{0}&nbsp;blocks≈</span><span class="color6">{1}</span>',canGetDynIncome:"// Will get Dynamic bonus ",investDesc:'// Provide Help with ${0}, you will Get Helped with <span class="color1"> ${1}</span> in 10 days;',isRunning:"// dMMM has been running for:<br>",latestBlockNumber:"// Ethereum Latest Blocks:",blocks:"blocks",marketMakerAddress:"// MarketMaker",marketMakerENS:"// ENS for MarketMaker",blockToOpenGame:'// Will open in<span class="color5"> {0} blocks ≈ </span><span class="color6"> {1} </span>',currentTermID:'// Current Term: No.<span class="color5">{0}</span>',totalInvestmentUsd:"// Helping Fund in total:",allUserCount:'<span class="color1">// Participants in total:</span><pre> </pre><span class="color7">{0} </span>',walletAuth:"Connect to wallet",dmmmIs:"// dMMM is the heir of the MMM spirit",joinUs:"// Join us, join the biggest Helping Community in the world",regNow:"Register Now",activeAccount:"Active My Account",activeAccountDesc:"// You need to activate the account to start dMMM.",activeAccountNeed:"// Activation Fee: ",waitBtn:"Waiting to Start",waitDesc:"// Welcome to dMMM community",waitDescSub:"// Coming Soon!",canInvestNow:'<span class="color0">//Term No.</span><span class="color5">{0}</span><span class="color7">&nbsp;is available now</span>',investNowBtn:"Provide Help  Now",newbieBtn:"Exclusive time",newbieDesc:'<span class="color0">//In the Exclusive time for Newbies, you can participate in term No.{0} immediately</span>',giveBtn:"Queue Up",fullTermDesc:'<span class="color0">//The quota of current term No.</span><span class="color7">{0}</span><span class="color0"> is FULL</span>',preOrderDesc:'<span class="color0">//You can queue up for term No.</span><span class="color7">{0}</span><span class="color0"></span>',blockToNewTerm:'<span class="color0">//The term No.{0} is </span><span class="color5">{1}</span><span class="color0"> blocks away ≈</span><span class="color5">{2}</span>',blockToNewbie:'<span class="color0">//The Exclusive time for Newbies is </span><span class="color5">{0}</span><span class="color0">blocks ≈</span><span class="color5">{1}</span>',fullGameBtn:"Queue is Full",fullGameDesc:"// All terms queue is full",blockToTerm:'<span class="color0">//The term No.{0} is </span><span class="color5">{1}</span><span class="color0"> blocks away ≈</span><span class="color5">{2}</span>',queueBtn:"In the Queue",queueDesc:'<span class="color0">//The Term No.</span><span class="color5">{0}</span><span class="color0"> you are participating in is in the queue；</span>',blockToIntoTerm:'<span class="color0">//The game will start in </span><span class="color5">{0}</span><span class="color0"> blocks ≈ </span><span class="color5">{1}</span><span class="color0"></span>',helpBtn:"Waiting for Help",helpDesc:"// You have provided help to the others and are waiting to be helped",blockToOut:'<span class="color0">// After <span class="color5">{0}</span> blocks ≈ <span class="color5">{1}</span>, you can get helped with <span class=\'color4\'>${2}</span></span>',withdrawBtn:"Get Help",withdrawDesc:"//  Get help successfully!",withdrawAmt:"//  Get helped with",withdrawDyn:"//  with dynamic bonus",reRegBtn:"Re-register",reRegDesc:"//You've been kicked out because you haven't provided help to the others for more than 30 days",reRegDescSub:"//Re-register please",bankruptcyBtn:"Claim Compensation",bankruptcyDesc:"//In bankruptcy",awardBtn:"Claim LAST-100 Lucky Bonus",awardDesc:"//The last 100 lucky users will split the bonus equally",overBtn:"Game is Over",overDesc:"//dMMM is over, thank you for your support.",overDescSub:"//Check official website for new version",investOk:'// Successfully provide help with <span class="color3">${0}</span>',investStatic:'// Will get helped with +<span class="color4">${0}</span> in 10 days;',investDyn:'// Will receive dynamic bonus +<span class="color4">${0}</span>;',withdrawOk:"// Successfully get helped!",dialog:{activating:"Being activated",activationFailed:"Activation failed: ",confirmWithdraw:"Confirm to get helped",withdrawing:"Getting helped",withdrawOk:"Successfully get helped!",withdrawFailed:"Failed to get helped:",reReging:"Being kicked out",reRegOk:"You've been kicked out, re-register please",reRegFailed:"Failed to be kicked out:",awarding:"Claiming LAST-100 Lucky Bonus",awardOk:"Done",awardFailed:"Failed:",bankruptcing:"Claiming Compensation",bankruptcyOk:"Done",bankruptcyFailed:"Failed:",confirmInvest:"Confirm to provide help?",investing:"Providing help",investFailed:"Failed to provide help: "},app:{newMsg:"Notification",loading:"Loading",levelUpgrade:"Congratulations, you have been upgraded to Level {0}!",becameNode:"Congratulations, you have become a Node!",becameSuperNode:"Congratulations, you have become a Super Node!"},component:{changeAddr:"// Change the binding wallet",currentAddr:"Current Wallet：",inputAddr:"Please input your new wallet address",confirmAddr:"Repeat your new wallet address",changeAddrBtn:"Change the binding wallet",complateUserInfo:"complete user profile",editUserInfo:"edit user profile",sureToComfirmEdit:"Confirm？",addrCanNotEmpty:"Can NOT be empty!",addrNotEqual:"The two addresses are inconsistent",changeAddrTitle:"change wallet",changeAddrOk:"Done",changeAddrFailed:"Failed:",gearInfo:"<span>Provide ${0}<br>Will get ${1}</span>",improveInfoTitle:"// User infomation",inviteCode:"Code: ",inputNickname:"Nickname",submitInfo:"Submit",pleaseComplateUserInfo:"complete user infomation",inviteCodeCanNotEmpty:"Invitation code can not be empty",pleaseInputNickname:"input your nickname",submitFailed:"Failed",bindAddrTitle:"bind referees",bindAddrOk:"Done",bindAddrFailed:"Failed",progressGetSign:"· Get signature",progressWriteChain:"· Get transcation hash",progressPack:"· Waiting for miners to execute",progressVerify:"· Verify execution",progressWaiting:"Please wait patiently..."},err:{A0:"Operation has been cancelled by user",A1:"Incorrect amount",A2:"Permission denied",A3:"Illegal operation",A4:"You're NOT the LAST-100 lucky one",A5:"Should be greater than 0",A6:"Illegal operation",A7:"The game has started",A8:"The game isn't broke yet",A9:"User registered",B1:"User NOT exsits",B2:"The game is over",B3:"Repeat claim is not allowed within 24 hours",B4:"Nothing to claim",B5:"Not yet a Node/Super Node",B6:"The game hasn't started yet",B7:"非註冊合約",B8:"The Origin Node is full",B9:"Unsupported token",C1:"User is not kicked out",C2:"Unknown Fund",C3:"User has not been actived",C4:"Wrong gear",C5:"User is still waiting for help",C6:"User has been actived",C7:"Game is not over",C8:"User did not provided help yet",C9:"User has been kicked out",D1:"The queue is full already",D2:"Insufficient helping fund ",Unknown:"Execution failed, please try again later. ({0})"},invite:{allLayerEffectiveUser:"// Valid users within all 7 generations",firstLayer:"1st",secondLayer:"2nd",thirdLayer:"3rd",fourthLayer:"4th",fifthLayer:"5th",sixthLayer:"6th",seventhLayer:"7th",humanNum:"{0}",allLv5:'// Lv5 users within all 7 generations: <span class="color3">{0}</span> users (in total) and <span class="color3">{1}</span> users (in different line)',allNode:'// Node users within all 7 generations: <span class="color3">{0}</span> node users (in total) and <span class="color3">{1}</span> node users (in different line)',allPerformance:'// Team performance: <span class="color3">${0}</span>',myInviteLink:"// My invitation link: ",termPerformanceList:"// Team action log",linkAlreadyCopied:"Copied",addressAlreadyCopied:"Copied",myInvite:"My invitation",inviteLink:"Invitation link",myInviteList:"My invitation log",provideHelp:'>><span class="color7">{0}</span>Provide Help <span class="color3">${1}</span>'},asset:{walletAddr:"// Wallet address",change:"Change",billingList:"// My financial records recently",fee:"fee",dynIncome:"Dynamic bonus +",active:"Activation bonus +",bringOut:"Claim dynamic bonus +",withdrawNode:"Claim Node income +",withdrawSuperNode:"Claim Super Node income +",invest:"Provide help -",withdraw:"Get helped +",bankruptcy:"Claim Compensation +"},data:{exContract:"// Exchange Contract",matchPool:"// Helping Fund",securityPool:"// Reserve Fund",sourcePool:"// Security Fund",awardPool:"// LAST-100 Lucky bonus",nodePool:"// Node bonus in current term",nodeNum:" {0} Node users",superNodePool:"// Super Node bonus in current term",superNodeNum:"{0} Super Node users"},me:{activeToShow:"// Will open after activation...",myLevel:"// My level:",node:"Node",superNode:"Super Node",totalIncome:"// My total revenue:",dynBalance:"// Dynamic:",nodeIncomeHistory:"// My Node income:",available:"Waiting to claim",superNodeIncomeHistory:"// My Super Node income:",tokenBalance:"// My token banlance:",totalRecord:"All records",myInvite:"// My invitation",totalInviteRecord:"All invitations",noNodeIncome:"Balance of Node income: 0",confirmWithdrawNodeIncome:"Confirm to claim Node income?",noSuperNodeIncome:"Balance of Super Node income: 0",confirmWithdrawSuperNodeIncome:"Confirm to claim Super Node income?"}}},F=L,G=n("e768"),W=n("4eb5"),H=n.n(W);o["a"].use(s["a"]),o["a"].use(r["a"]).use(a["a"]),o["a"].use(H.a),o["a"].config.productionTip=!1,o["a"].prototype.trackTx=G["a"];var J=localStorage.getItem("locale"),V=new s["a"]({locale:J||"en-US",messages:F}),q=function(e,t){if(!e)return"0";var n=parseFloat(e);n=e%1==0?parseInt(e):n.toFixed(t||3);var r=n.toString().split(".");return r[0]=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),r.join(".")};o["a"].filter("NumFormat",q);var Y=function(e){return new Date(e).toLocaleString(V.locale,{timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone})};o["a"].filter("DateFormat",Y);var K=function(e){return e?14*e:0};o["a"].filter("BlockToSecond",K);var Q=function(e){var t=parseInt(e,10),n=Math.floor(t/86400),r=Math.floor((t-3600*n*24)/3600),a=Math.floor((t-3600*n*24-3600*r)/60),o=t-3600*n*24-3600*r-60*a,s=(n>0?n+" "+V.t("day"):"")+(r>0?" "+r+" "+V.t("hour"):"")+(a>0?n||r?"":" "+a+" "+V.t("minute"):"")+(o>0?n||r||a?"":" "+o+" "+V.t("second"):"");return""==s.trim()?"0  "+V.t("hour"):s};o["a"].filter("SecondFormat",Q);var Z=n("ffe0");Z.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),r=Z(t);o["a"].component(n,r.default)}),{}),o["a"].mixin({methods:{NumFormat:q,DateFormat:Y,BlockToSecond:K,SecondFormat:Q}}),new o["a"]({i18n:V,router:B,store:U,render:function(e){return e(x)}}).$mount("#app")},5723:function(e,t,n){"use strict";var r=n("bc3a"),a=n.n(r),o=n("97e4"),s=(n("8e6e"),n("bd86")),i=(n("96cf"),n("3b8d"));n("ac6a"),n("456d"),n("55dd");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={data:{},set:function(e,t){this.data[e]=t},get:function(e){return this.data[e]},clear:function(e){delete this.data[e]}},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=function(e){return"[object Object]"===toString.call(e)?JSON.stringify(Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{})):JSON.stringify(e)};return e+="?".concat(a(n),"&").concat(a(r),"&").concat(t),e},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){var r,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=u({time:0},e),o=d(n.url,n.method,n.params,n.data),s=l.get(o),s||(s=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.a.defaults.adapter(n);case 3:return t=e.sent,e.abrupt("return",Promise.resolve(t));case 7:return e.prev=7,e.t0=e["catch"](0),l.clear(o),e.abrupt("return",Promise.reject(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))(),l.set(o,s),0!==r.time&&setTimeout((function(){l.clear(o)}),r.time)),t.abrupt("return",s.then((function(e){return JSON.parse(JSON.stringify(e))})));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},f=a.a.create({baseURL:"https://dmmm.io/api/v1",withCredentials:!0,timeout:2e4,adapter:p({time:5e3})});f.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),f.interceptors.response.use((function(e){return 200===e.status?e.data:Promise.reject(e)}),(function(e){var t=e.response.status;return 401===t&&o["a"].emit("EVENT_LOGIN_INVALID"),Promise.reject(e)}));var h=f;function m(){return h({url:"/config.json",method:"get"})}function g(){return h({url:"/user",method:"get"})}function b(){return h({url:"/notification",method:"get"})}function v(e){return h({url:"/notification/"+e+"/read",method:"get"})}function w(){return h({url:"/nonce",method:"get"})}function k(e){return h({url:"/login",method:"post",data:e})}function y(e){return h({url:"/token",method:"get",params:e})}function O(){return h({url:"/user/gears",method:"get"})}function x(e){return h({url:"/user",method:"patch",data:e})}function _(e){return h({url:"/games/ongoing",method:"get",params:e})}function j(e){return h({url:"/data",method:"get",params:e})}function S(e){return h({url:"/billings",method:"get",params:e})}function T(e){return h({url:"/team-performance",method:"get",params:e})}n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"k",(function(){return v})),n.d(t,"f",(function(){return w})),n.d(t,"m",(function(){return k})),n.d(t,"i",(function(){return y})),n.d(t,"e",(function(){return O})),n.d(t,"l",(function(){return x})),n.d(t,"d",(function(){return _})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return S})),n.d(t,"h",(function(){return T}))},"5d0a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"gear-list"},[n("div",{staticClass:"gear-info",domProps:{innerHTML:e._s(e.$t("component.gearInfo",[this.selectedItem.usd_num,this.selectedItem.usd_income+this.selectedItem.usd_num]))}}),e._l(e.gears,(function(t,r){return n("div",{key:r,class:["gear-item",!t.enabled&&"disabled",e.selectIndex===r&&"active"],staticStyle:{"border-width":"1px"},on:{click:function(n){return e.onSelect(t,r)}}},[e._v(" "+e._s(e.gearName[r])+" ")])}))],2),n("a",{class:{"terminal-btn":!0,"terminal-btn--disabled":this.pendingTx},attrs:{href:"javascript:;"},on:{click:function(t){return e.onConfirm()}}},[e._v(e._s(this.pendingTx?e.$t("pending"):e.btnText))])])},a=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),s=n("bd86"),i=n("2f62");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={name:"GearSelector",components:{},props:["btnText"],data:function(){return{gearShow:!1,selectIndex:-1,gearName:["A","B","C","D","E"]}},computed:u({},Object(i["c"])("account",["gears","user","pendingTx"]),{selectedItem:function(){return-1!==this.selectIndex?this.gears[this.selectIndex]:{}}}),watch:{gears:function(){if(this.gears){var e=this.gears.filter((function(e){return e.enabled}));e.length>=1&&(this.selectIndex=this.user.level-1,this.$emit("select",this.gears[this.selectIndex]))}}},created:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.fetchGears();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:u({},Object(i["b"])("account",["fetchGears"]),{onSelect:function(e,t){e.enabled&&(this.selectIndex=t,this.$emit("select",this.gears[this.selectIndex]))},onConfirm:function(){this.$emit("submit",this.gears[this.selectIndex])}})},d=l,p=(n("1ea8"),n("2877")),f=Object(p["a"])(d,r,a,!1,null,"047d82a2",null);t["default"]=f.exports},"61c5":function(e,t,n){"use strict";n.r(t);n("8e6e"),n("456d"),n("ac6a"),n("c5f6"),n("6b54"),n("96cf");var r=n("bd86"),a=n("3b8d"),o=n("5723"),s=n("1e2b"),i=n("e768");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=n("d633"),d={config:{},user:{},gameInfo:{stepList:[]},gears:[],data:{},pendingTx:!1,token:{},referrer:""};function p(e){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.total_income=parseFloat(t.invest_income)+parseFloat(t.node_income)+parseFloat(t.supernode_income),e.abrupt("return",t);case 2:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}var h={UPDATE_CONFIG:function(e,t){e.config=t},UPDATE_USER:function(e,t){e.user=u({},e.user,{},t)},UPDATE_GAME:function(e,t){e.gameInfo=t},UPDATE_GEARS:function(e,t){e.gears=t},UPDATE_DATA:function(e,t){e.data=t},UPDATE_PENDING:function(e,t){e.pendingTx=t},UPDATE_TOKEN:function(e,t){e.token=t},UPDATE_REFERRER:function(e,t){e.referrer=t}},m={initConfig:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,Object(o["b"])();case 3:return r=e.sent,n("UPDATE_CONFIG",r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,Object(o["j"])();case 3:return r=e.sent,e.t0=n,e.next=7,p(r);case 7:return e.t1=e.sent,(0,e.t0)("UPDATE_USER",e.t1),e.t2=n,e.next=12,s["a"].setNbtInfo();case 12:return e.t3=e.sent,(0,e.t2)("UPDATE_TOKEN",e.t3),e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),checkPendingTx:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,c,u,d,f,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,s["a"].pendingTx){e.next=5;break}return console.log("no pending tx"),n("UPDATE_PENDING",!1),e.abrupt("return");case 5:return console.log("hasPendingTx",s["a"].pendingTx),e.prev=6,n("UPDATE_PENDING",!0),e.next=10,l({hash:s["a"].pendingTx,network:"mainnet"});case 10:if(r=e.sent,c=r.errorMessage,u=r.revertReason,d=r.status,s["a"].saveOrClearPending(!0),1!=d){e.next=31;break}return e.next=18,s["a"].checkSnapshot();case 18:return e.next=20,Object(o["j"])();case 20:return f=e.sent,e.t0=n,e.next=24,p(f);case 24:return e.t1=e.sent,(0,e.t0)("UPDATE_USER",e.t1),e.t2=n,e.next=29,s["a"].setNbtInfo();case 29:e.t3=e.sent,(0,e.t2)("UPDATE_TOKEN",e.t3);case 31:n("UPDATE_PENDING",!1),console.log("reveal",c,u,d),e.next=43;break;case 35:if(e.prev=35,e.t4=e["catch"](6),console.log("reveal error",e.t4),!(e.t4.toString().indexOf("No transaction found")>=0)){e.next=43;break}return s["a"].saveOrClearPending(!0),h=!0,n("UPDATE_PENDING",!1),e.abrupt("return");case 43:h=!1,Object(i["a"])({web3:s["a"].instance,txHash:s["a"].pendingTx,contract:s["a"]["nbt"==s["a"].pendingMode?"contract":s["a"].pendingMode],callback:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("trackTx done",h,t,r),!h){e.next=3;break}return e.abrupt("return");case 3:if(s["a"].saveOrClearPending(!0),h=!0,n("UPDATE_PENDING",!1),!r){e.next=22;break}return e.next=9,s["a"].checkSnapshot();case 9:return e.next=11,Object(o["j"])();case 11:return a=e.sent,e.t0=n,e.next=15,p(a);case 15:return e.t1=e.sent,(0,e.t0)("UPDATE_USER",e.t1),e.t2=n,e.next=20,s["a"].setNbtInfo();case 20:e.t3=e.sent,(0,e.t2)("UPDATE_TOKEN",e.t3);case 22:case"end":return e.stop()}}),e)})));function t(t,n){return e.apply(this,arguments)}return t}()});case 45:case"end":return e.stop()}}),e,null,[[6,35]])})));function t(t){return e.apply(this,arguments)}return t}(),fetchData:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,Object(o["c"])();case 3:r=e.sent,n("UPDATE_DATA",r);case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchGame:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,Object(o["d"])({uid:d.user.id,limit:7});case 3:return r=e.sent,a="",s=0,i=[],n("UPDATE_GAME",{stepDesc:a,waitingUsers:r.waiting_users||0,blockNumber:r.heightest_block_number,userCount:s,currentGame:r.current_game,incomeRate:100+Number(r.expected_rate_of_return),userCountHelpedMe:r.user_count_helped_me,userCountIHelped:r.user_count_i_helped,stepList:i}),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),fetchGears:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,Object(o["e"])();case 3:return r=e.sent,a=r.gears.reverse(),a.forEach((function(e){e.enabled=!1,e.level<=d.user.level&&e.level>=d.user.max_gear_history&&(e.enabled=!0),e.total=e.usd_num+e.usd_income})),n("UPDATE_GEARS",a),e.abrupt("return",!0);case 8:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),checkUser:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,Object(o["j"])();case 3:return r=e.sent,e.next=6,p(r);case 6:return r=e.sent,e.t0=n,e.next=10,s["a"].setNbtInfo();case 10:return e.t1=e.sent,(0,e.t0)("UPDATE_TOKEN",e.t1),e.abrupt("return",new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,s["a"].isSame(r.addr)){e.next=3;break}throw new Error("account not match");case 3:n("UPDATE_USER",r),t(),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),a(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()));case 13:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.abrupt("return",new Promise(function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){var a,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o["f"])();case 3:return a=e.sent,e.next=6,s["a"].getSign(a);case 6:return i=e.sent,e.next=9,Object(o["m"])(i);case 9:return c=e.sent,e.t0=n,e.next=13,p(c.user);case 13:return e.t1=e.sent,(0,e.t0)("UPDATE_USER",e.t1),e.t2=n,e.next=18,s["a"].setNbtInfo();case 18:e.t3=e.sent,(0,e.t2)("UPDATE_TOKEN",e.t3),t(),e.next=26;break;case 23:e.prev=23,e.t4=e["catch"](0),r(e.t4);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t,n){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),setReferrer:function(e,t){var n=e.commit;n("UPDATE_REFERRER",t)}};t["default"]={namespaced:!0,state:d,mutations:h,actions:m}},"61c7":function(e,t,n){"use strict";var r=n("d991"),a=n.n(r);a.a},6575:function(e,t,n){"use strict";var r=n("8565"),a=n.n(r);a.a},8382:function(e,t,n){"use strict";var r=n("d4e9"),a=n.n(r);a.a},8565:function(e,t,n){},"85ec":function(e,t,n){},"90a8":function(e,t,n){"use strict";var r=n("011d"),a=n.n(r);a.a},9420:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Popup",{style:{backgroundColor:"transparent",overflow:"visible"},attrs:{"close-on-click-overlay":!1},on:{close:e.onClose},model:{value:e.confirmShow,callback:function(t){e.confirmShow=t},expression:"confirmShow"}},[n("div",{staticClass:"confirm"},[n("i",{staticClass:"confirm-close",on:{click:e.onClose}}),n("div",{staticClass:"confirm-body"},[e.title?n("div",{staticClass:"code-row"},[n("span",{staticClass:"color0"},[e._v("// "+e._s(e.title))])]):e._e(),e.desc?n("div",{staticClass:"code-row"},[n("span",{staticClass:"color0"},[e._v("// "+e._s(e.desc))])]):e._e()]),n("div",{staticClass:"confirm-footer"},[n("a",{staticClass:"confirm-btn confirm-btn--cancel",attrs:{href:"javascript:;"},on:{click:e.onClose}},[e._v(e._s(e.$t("cancel")))]),n("a",{staticClass:"confirm-btn",staticStyle:{"border-width":"1px"},attrs:{href:"javascript:;"},on:{click:e.onConfirm}},[e._v(e._s(e.$t("confirm")))])])])])},a=[],o=(n("8a58"),n("e41f")),s={name:"Confirm",components:{Popup:o["a"]},props:["value","title","desc"],model:{prop:"value",event:"toggle"},data:function(){return{confirmShow:!1}},watch:{value:function(){this.confirmShow=this.value}},methods:{onClose:function(){this.$emit("toggle",!1)},onConfirm:function(){this.onClose(),this.$emit("confirm")}}},i=s,c=(n("45b4"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"5eae3e2d",null);t["default"]=u.exports},"97e4":function(e,t,n){"use strict";var r=n("f11f"),a=n.n(r),o=new a.a;t["a"]=o},a308:function(e,t,n){"use strict";var r=n("4c76"),a=n.n(r);a.a},ad18:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Popup",{staticStyle:{"background-color":"transparent",overflow:"visible"},attrs:{overlay:"","close-on-click-overlay":!1},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("div",{staticClass:"mm-progress"},[e.title?n("div",{staticClass:"code-row"},[n("span",{staticClass:"color2"},[e._v("// "+e._s(e.title))])]):e._e(),n("div",{staticClass:"code-row"},[n("span",{staticClass:"color0"},[e._v(e._s(e.$t("component.progressGetSign")))]),e.progresStep>=1?n("i",{staticClass:"mm-progress-check"}):e._e(),e.progresStep<1?n("div",{staticClass:"lds-dual-ring"}):e._e()]),n("div",{staticClass:"code-row"},[n("span",{staticClass:"color0"},[e._v(e._s(e.$t("component.progressWriteChain")))]),e.progresStep>=2?n("i",{staticClass:"mm-progress-check"}):e._e(),e.progresStep<2?n("div",{staticClass:"lds-dual-ring"}):e._e()]),n("div",{staticClass:"code-row"},[n("span",{staticClass:"color0"},[e._v(e._s(e.$t("component.progressPack")))]),e.progresStep>=3?n("i",{staticClass:"mm-progress-check"}):e._e(),e.progresStep<3?n("div",{staticClass:"lds-dual-ring"}):e._e()]),n("div",{staticClass:"code-row"},[n("span",{staticClass:"color0"},[e._v(e._s(e.$t("component.progressVerify")))]),e.progresStep>=4?n("i",{staticClass:"mm-progress-check"}):e._e(),e.progresStep<4?n("div",{staticClass:"lds-dual-ring"}):e._e()]),n("div",{staticClass:"code-row"},[n("span",{staticClass:"color1"},[e._v(e._s(e.$t("component.progressWaiting")))])])])])},a=[],o=(n("8a58"),n("e41f")),s={name:"Progress",components:{Popup:o["a"]},props:["title"],data:function(){return{show:!1,progresStep:0}},methods:{}},i=s,c=(n("8382"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"51f386cc",null);t["default"]=u.exports},b7bd:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:["cell",e.disabled?"disabled":""]},[n("input",{attrs:{placeholder:e.placeholder,type:e.type},domProps:{value:e.value},on:{click:e.onClick,blur:e.onBlur,input:e.onInput}}),e._t("default")],2)},a=[],o=(n("4917"),{name:"InputCell",data:function(){return{scrollTop:0}},props:{icon:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},value:{},disabled:{type:Boolean,default:!1}},model:{prop:"value",event:"change"},methods:{onClick:function(){this.scrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},onBlur:function(){var e=!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);e&&window.scrollTo(0,this.scrollTop)},onInput:function(e){this.$emit("change",e.srcElement.value)}}}),s=o,i=(n("90a8"),n("2877")),c=Object(i["a"])(s,r,a,!1,null,"fd9636b8",null);t["default"]=c.exports},c1c3:function(e,t,n){},c27d:function(e,t,n){},c653:function(e,t,n){var r={"./account.js":"61c5"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="c653"},d000:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"navbar",staticStyle:{"border-bottom-width":"1px"}},[r("img",{staticClass:"navbar__logo",attrs:{src:n("f2ae")}}),r("a",{staticClass:"navbar__more",attrs:{href:"javascript:;"},on:{click:function(t){e.showLangSelector=!0}}},[r("i",{staticClass:"navbar__dots"})])]),r("div",{staticClass:"navbar-spacer"}),r("ActionSheet",{attrs:{"cancel-text":e.$t("cancel"),actions:e.actions},on:{select:e.changeLocale},model:{value:e.showLangSelector,callback:function(t){e.showLangSelector=t},expression:"showLangSelector"}})],1)},a=[],o=(n("7f7f"),n("2cbd"),n("ab2c")),s={name:"NavBar",components:{ActionSheet:o["a"]},props:{showQrcode:{type:Boolean,default:!1},title:{type:String,default:""}},data:function(){return{showLangSelector:!1,actions:[{name:"English"}]}},methods:{onBack:function(){window.history.length>1?this.$router.go(-1):this.$router.push("/")},onShare:function(){this.$router.push("/inviteshare")},changeLocale:function(e){var t={English:"en-US"};this.$i18n.locale=t[e.name],localStorage.setItem("locale",this.$i18n.locale),this.showLangSelector=!1}}},i=s,c=(n("a308"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"2da9a793",null);t["default"]=u.exports},d4e9:function(e,t,n){},d991:function(e,t,n){},db5d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Popup",{style:{backgroundColor:"transparent"},attrs:{position:"bottom","close-on-click-overlay":!e.forceUpdate,closeable:"","close-icon":"close"},on:{close:e.onClose},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[n("div",{staticClass:"editinfo"},[n("i",{staticClass:"icon-close",on:{click:e.onClose}}),n("div",{staticClass:"editinfo-header"},[n("span",[e._v(e._s(e.$t("component.changeAddr")))])]),n("div",{staticClass:"editinfo-body"},[n("InputCell",{attrs:{placeholder:e.$t("component.currentAddr")+(e.userInfo.nowaddress||0),type:"text",disabled:!0}}),n("InputCell",{attrs:{icon:"user",placeholder:e.$t("component.inputAddr")},model:{value:e.userInfo.newaddress,callback:function(t){e.$set(e.userInfo,"newaddress",t)},expression:"userInfo.newaddress"}}),n("InputCell",{attrs:{icon:"user",placeholder:e.$t("component.confirmAddr")},model:{value:e.userInfo.confirmaddr,callback:function(t){e.$set(e.userInfo,"confirmaddr",t)},expression:"userInfo.confirmaddr"}})],1),n("div",{staticClass:"editinfo-footer"},[n("a",{staticClass:"editinfo-btn",attrs:{href:"javascript:;"},on:{click:e.submit}},[e._v(" "+e._s(e.$t("component.changeAddrBtn"))+" ")])])]),n("Progress",{ref:"progress",attrs:{title:e.progresTitle}}),n("Confirm",{attrs:{title:e.confirmInfo.title,desc:e.confirmInfo.desc},on:{confirm:e.onConfirm},model:{value:e.confirmShow,callback:function(t){e.confirmShow=t},expression:"confirmShow"}})],1)},a=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),s=n("bd86"),i=(n("8a58"),n("e41f")),c=n("2f62"),u=n("1e2b");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={name:"Exchangeaddr",components:{Popup:i["a"]},props:{value:{},mode:{type:String,default:"improve"},modalShow:{type:Boolean,default:!1}},model:{prop:"value",event:"toggle"},data:function(){return{showModal:this.modalShow,confirmShow:!1,forceUpdate:!1,progresTitle:"",userInfo:{nickname:"",newaddress:"",confirmaddr:""},TITLES:{improve:this.$t("component.complateUserInfo"),edit:this.$t("component.editUserInfo")},confirmInfo:{}}},computed:d({},Object(c["c"])("account",["user","config","referrer"]),{title:function(){return this.TITLES[this.mode]},isImprove:function(){return"improve"===this.mode}}),watch:{modalShow:function(e){this.setReferrer(),this.showModal=e},showModal:function(e){if(e)return!1;this.$emit("toggle",!1)}},methods:d({},Object(c["b"])("account",["fetchUser"]),{setReferrer:function(){if(this.isImprove){var e=this.user.addr;this.userInfo.nowaddress=e||""}},onClose:function(){this.showModal=!1},onWithdrawSubmit:function(){this.confirmShow=!0,this.confirmInfo={title:this.$t("component.sureToComfirmEdit")}},onConfirm:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.bindAddr();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.userInfo,n=t.confirmaddr,r=t.newaddress,!this.isImprove||r||n){e.next=5;break}return e.abrupt("return",this.$notify(this.$t("component.addrCanNotEmpty")));case 5:if(n==r){e.next=9;break}return e.abrupt("return",this.$notify(this.$t("component.addrNotEqual")));case 9:this.onWithdrawSubmit();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),bindAddr:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.progresTitle=t.$t("component.changeAddrTitle"),t.$refs.progress.progresStep=0,t.$refs.progress.show=!0,e.next=6,u["a"].run({mode:"contract",method:"transferAccount",vueInstance:t,callback:function(e){t.$refs.progress.progresStep=e},args:[t.userInfo.newaddress]});case 6:t.$notify({message:t.$t("component.changeAddrOk"),background:"#07c160"}),t.forceUpdate=!1,t.showModal=!1,n(),e.next=17;break;case 12:e.prev=12,e.t0=e["catch"](0),t.$notify({message:t.$t("component.changeAddrFailed")+e.t0,background:"#f00"}),t.showModal=!0,r(t.$t("component.changeAddrFailed")+e.t0);case 17:return e.prev=17,t.$refs.progress.show=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,12,17,20]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()})},f=p,h=(n("6575"),n("2877")),m=Object(h["a"])(f,r,a,!1,null,"6bbd7f85",null);t["default"]=m.exports},e768:function(e,t,n){"use strict";n("96cf");var r=n("3b8d"),a=n("d633");function o(e){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n,o,s,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:c=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n=t.web3,o=t.contract,s=t.txHash,i=t.callback,console.warn("trackTx",s),u=!0;case 4:if(!u){e.next=10;break}return n.eth.getTransactionReceipt(s,function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){var r,l,d,p,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(null!==t||n&&n.blockNumber)||!u){e.next=37;break}if(u=!1,console.warn("trackTx",s,t,n),!t&&n.status){e.next=13;break}return e.next=6,a({hash:s,network:"mainnet"});case 6:r=e.sent,l=r.errorMessage,d=r.revertReason,console.warn("reveal",l,d),i(d||l,!1),e.next=37;break;case 13:if(!n.status){e.next=36;break}p=[],f=!1;case 16:if(f||!o){e.next=31;break}return e.prev=17,e.next=20,o.getPastEvents("onError",{fromBlock:n.blockNumber,toBlock:n.blockNumber});case 20:p=e.sent,f=!0,e.next=29;break;case 24:return e.prev=24,e.t0=e["catch"](17),console.log("getPastEvents",e.t0),e.next=29,c(1e3);case 29:e.next=16;break;case 31:console.warn("getPastEvents",p),p&&p.length>0&&i(p[0].returnValues.reason,!1),i(null,!0),e.next=37;break;case 36:i(t,!1);case 37:case"end":return e.stop()}}),e,null,[[17,24]])})));return function(t,n){return e.apply(this,arguments)}}()),e.next=8,c(1e3);case 8:e.next=4;break;case 10:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}t["a"]=o},ef0c:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Popup",{staticStyle:{"background-color":"transparent",overflow:"visible"},on:{close:e.onClose},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("div",{staticClass:"okdialog"},[n("i",{staticClass:"okdialog-close",on:{click:e.onClose}}),e._t("default"),n("a",{staticClass:"okdialog-btn",staticStyle:{"border-width":"1px"},attrs:{href:"javascript:;"},on:{click:e.onClose}},[e._v(e._s(e.$t("confirm")))])],2)])},a=[],o=(n("8a58"),n("e41f")),s={name:"OkDialog",components:{Popup:o["a"]},props:["value"],data:function(){return{show:!1}},model:{prop:"value",event:"toggle"},watch:{value:function(){this.show=this.value}},created:function(){this.value&&(this.show=this.value)},methods:{onClose:function(){this.$emit("toggle",!1)}}},i=s,c=(n("61c7"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"3be0d364",null);t["default"]=u.exports},f2ae:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAAApCAMAAABjhxlLAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRFCbQL////sJDnwAAAAAJ0Uk5T/wDltzBKAAAAiUlEQVR42uyYQQ6AIAwE6/8/beJJE6qLhEjX6Y0yhwmFBoitQoSDZRxxl0hmVE4DscRSsjznGymd00ALS8U+r5nOPYBU/PeWV2TVTtRjmQ9kTgMtLDt37SCXglR8hmVztR0sP+hEWE62XO51VmMta7woOD1Y0okGO5HfXR1LLLHkXx1LLF/ELsAAxK4TZgddh8UAAAAASUVORK5CYII="},faea:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Popup",{style:{backgroundColor:"transparent"},attrs:{position:"bottom","close-on-click-overlay":!e.forceUpdate,closeable:"","close-icon":"close"},on:{close:e.onClose},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[n("div",{staticClass:"editinfo"},[n("i",{staticClass:"icon-close",on:{click:e.onClose}}),n("div",{staticClass:"editinfo-header"},[n("span",[e._v(e._s(e.$t("component.improveInfoTitle")))])]),n("div",{staticClass:"editinfo-body"},[n("InputCell",{attrs:{placeholder:e.$t("component.inviteCode")+e.lastSixString(e.userInfo.address),type:"text",disabled:!0}}),n("InputCell",{attrs:{icon:"user",placeholder:e.$t("component.inputNickname")},model:{value:e.userInfo.nickname,callback:function(t){e.$set(e.userInfo,"nickname",t)},expression:"userInfo.nickname"}})],1),n("div",{staticClass:"editinfo-footer"},[n("a",{staticClass:"editinfo-btn",attrs:{href:"javascript:;"},on:{mousedown:e.submit}},[e._v(" "+e._s(e.$t("component.submitInfo"))+" ")])])])]),n("Progress",{ref:"progress",attrs:{title:e.progresTitle}})],1)},a=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("96cf"),n("3b8d")),s=(n("6b54"),n("bd86")),i=(n("8a58"),n("e41f")),c=n("2f62"),u=n("5723"),l=n("97e4"),d=n("1e2b");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={name:"ImproveInfo",components:{Popup:i["a"]},props:{value:{},mode:{type:String,default:"improve"},modalShow:{type:Boolean,default:!1}},model:{prop:"value",event:"toggle"},data:function(){return{showModal:this.modalShow,forceUpdate:!1,progresTitle:"",userInfo:{nickname:"",phone:"",verify:"",address:""},TITLES:{improve:this.$t("component.complateUserInfo"),edit:this.$t("component.editUserInfo")}}},computed:f({},Object(c["c"])("account",["user","config","referrer"]),{title:function(){return this.TITLES[this.mode]},isImprove:function(){return"improve"===this.mode}}),watch:{modalShow:function(e){this.setReferrer(),this.showModal=e},showModal:function(e){if(e)return!1;this.$emit("toggle",!1)},referrer:function(){this.setReferrer()},value:function(){if(this.showModal&&!this.isImprove){var e=this.user,t=e.nickname,n=e.referrer;this.userInfo.nickname=t||"",this.userInfo.address=n||""}},user:function(){this.isImprove&&1===this.user.status&&(this.forceUpdate=!0,this.setReferrer())}},methods:f({},Object(c["b"])("account",["fetchUser"]),{lastSixString:function(e){return!e||e.toString().length<6?e:e.toString().substring(e.length-6)},setReferrer:function(){this.isImprove&&this.referrer&&(this.userInfo.address=this.referrer)},onClose:function(){this.forceUpdate?this.$notify(this.$t("component.pleaseComplateUserInfo")):this.$emit("toggle",!1)},submit:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.userInfo,n=t.nickname,r=t.address,!this.isImprove||r){e.next=3;break}return e.abrupt("return",this.$notify(this.$t("component.inviteCodeCanNotEmpty")));case 3:if(n){e.next=5;break}return e.abrupt("return",this.$notify(this.$t("component.pleaseInputNickname")));case 5:return e.prev=5,e.next=8,Object(u["l"])({nickname:n});case 8:if(this.$emit("toggle",!1),!this.isImprove){e.next=12;break}return e.next=12,this.bindAddr();case 12:return this.forceUpdate=!1,e.next=15,this.fetchUser();case 15:l["a"].emit("SYSTEM_INITED"),e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](5),this.showModal=!0,this.$notify("string"===typeof e.t0?e.t0:this.$t("component.submitFailed"));case 22:case"end":return e.stop()}}),e,this,[[5,18]])})));function t(){return e.apply(this,arguments)}return t}(),bindAddr:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.progresTitle=t.$t("component.bindAddrTitle"),t.$refs.progress.progresStep=0,t.$refs.progress.show=!0,e.next=6,d["a"].run({mode:"contract",method:"register",vueInstance:t,callback:function(e){t.$refs.progress.progresStep=e},args:[t.userInfo.address]});case 6:t.$notify({message:t.$t("component.bindAddrOk"),background:"#07c160"}),n(),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](0),r(t.$t("component.bindAddrFailed")+e.t0);case 13:return e.prev=13,t.$refs.progress.show=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()})},m=h,g=(n("0bba"),n("2877")),b=Object(g["a"])(m,r,a,!1,null,"73dd8eb8",null);t["default"]=b.exports},ffe0:function(e,t,n){var r={"./Confirm.vue":"9420","./Exchangeaddr.vue":"db5d","./GearSelector.vue":"5d0a","./ImproveInfo.vue":"faea","./InputCell.vue":"b7bd","./NavBar.vue":"d000","./OkDialog.vue":"ef0c","./Progress.vue":"ad18"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="ffe0"}});
//# sourceMappingURL=app.64647e1d.js.map